import{__extends as e,__awaiter as t,__generator as n,__spreadArray as i,__rest as r}from"tslib";import{Blockchain as o,Network as s,assertArgument as a,LoginProvider as c,JsonRpcMethod as p,JsonRpcSource as l,unsupportedChainError as u,FaceError as h,FaceErrorCode as d,Env as f,assert as m}from"@haechi-labs/face-types";export{Network}from"@haechi-labs/face-types";import{ethers as v}from"ethers";import{BigNumber as S}from"@ethersproject/bignumber";import{EventEmitter as E}from"events";import{BCS as w}from"aptos";import*as g from"near-api-js";import{PublicKey as k}from"@solana/web3.js";const y="https://cdn.facewallet.xyz/face-asset-common/networks/",b={[o.ETHEREUM]:{name:"Ethereum",image:y+"ETHEREUM.png",platformCoinCode:"ETH",isEthlike:!0,decimal:18},[o.POLYGON]:{name:"Polygon",image:y+"POLYGON.png",platformCoinCode:"MATIC",isEthlike:!0,decimal:18},[o.KLAYTN]:{name:"Klaytn",image:y+"KLAYTN.png",platformCoinCode:"KLAY",isEthlike:!0,decimal:18},[o.TEZOS]:{name:"Tezos",image:y+"XTZ.png",platformCoinCode:"XTZ",isEthlike:!1,decimal:6},[o.BNB_SMART_CHAIN]:{name:"BNB Smart Chain",image:y+"BNB_SMART_CHAIN.png",platformCoinCode:"BNB",isEthlike:!0,decimal:18},[o.BORA]:{name:"BORA",image:y+"BORA.png",platformCoinCode:"BORA",isEthlike:!0,decimal:18},[o.SOLANA]:{name:"Solana",image:y+"SOLANA.png",platformCoinCode:"SOL",isEthlike:!1,decimal:9},[o.NEAR]:{name:"Near",image:y+"NEAR.png",platformCoinCode:"NEAR",isEthlike:!1,decimal:24},[o.APTOS]:{name:"Aptos",image:y+"APTOS.png",platformCoinCode:"APTOS",isEthlike:!1,decimal:8},[o.MEVERSE]:{name:"MEVerse",image:y+"MEVERSE.png",platformCoinCode:"MEV",isEthlike:!0,decimal:18},[o.PSM]:{name:"PSM",image:y+"PSM.png",platformCoinCode:"PSM",isEthlike:!0,decimal:18},[o.PSM_TEST]:{name:"PSM",image:y+"PSM.png",platformCoinCode:"PSM",isEthlike:!0,decimal:18},[o.PSM_DEV]:{name:"PSM",image:y+"PSM.png",platformCoinCode:"PSM",isEthlike:!0,decimal:18},[o.HOME_VERSE]:{name:"HOME Verse",image:y+"HOMEVERSE.png",platformCoinCode:"HOME",isEthlike:!0,decimal:18},[o.YOOLDO_VERSE]:{name:"Yooldo Verse",image:y+"YOOLDOVERSE.png",platformCoinCode:"YV",isEthlike:!0,decimal:18},[o.SAND_VERSE]:{name:"Sand Verse",image:y+"YOOLDOVERSE.png",platformCoinCode:"YV",isEthlike:!0,decimal:18},[o.OASYS]:{name:"Oasys",image:y+"OASYS.png",platformCoinCode:"OAS",isEthlike:!0,decimal:18},[o.MCH_VERSE]:{name:"MCH Verse",image:y+"MCHVerse.png",platformCoinCode:"MCH",isEthlike:!0,decimal:18},[o.HEDERA]:{name:"Hedera",image:y+"HBAR.png",platformCoinCode:"HBAR",isEthlike:!0,decimal:18},[o.DEFI_VERSE]:{name:"DeFi Verse",image:y+"DeFiVerse.png",platformCoinCode:"OAS",isEthlike:!0,decimal:18},[o.KROMA]:{name:"Kroma",image:y+"KRO.png",platformCoinCode:"ETH",isEthlike:!0,decimal:18},[o.ASM_QA]:{name:"ASM",image:y+"ASM.png",platformCoinCode:"ASM",isEthlike:!0,decimal:18},[o.ASM_TEST]:{name:"ASM",image:y+"ASM.png",platformCoinCode:"ASM",isEthlike:!0,decimal:18},[o.ASM_DEV]:{name:"ASM",image:y+"ASM.png",platformCoinCode:"ASM",isEthlike:!0,decimal:18},[o.ASM_STAGE]:{name:"ASM",image:y+"ASM.png",platformCoinCode:"ASM",isEthlike:!0,decimal:18},[o.LINEA]:{name:"LINEA",image:y+"LINEA.png",platformCoinCode:"ETH",isEthlike:!0,decimal:18}},A=[{chainId:1,blockchain:o.ETHEREUM,network:s.ETHEREUM,name:"Ethereum",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://etherscan.io",providerUrl:"https://mainnet.infura.io/v3/"},{chainId:11155111,blockchain:o.ETHEREUM,network:s.SEPOLIA,name:"Sepolia",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://sepolia.etherscan.io",providerUrl:"https://rpc.sepolia.org"},{chainId:137,blockchain:o.POLYGON,network:s.POLYGON,name:"Polygon",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://polygonscan.com",providerUrl:"https://polygon-rpc.com/"},{chainId:80001,blockchain:o.POLYGON,network:s.MUMBAI,name:"Mumbai",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://mumbai.polygonscan.com",providerUrl:"https://matic-mumbai.chainstacklabs.com"},{chainId:9999999,blockchain:o.TEZOS,network:s.TEZOS,name:"Tezos",isEthlike:!1,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!1,openWalletConnect:!1,explorerUrl:"https://tzkt.io",providerUrl:"https://rpc.tzkt.io/mainnet/"},{chainId:9999998,blockchain:o.TEZOS,network:s.GHOSTNET,name:"Ghostnet",isEthlike:!1,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!1,openWalletConnect:!0,explorerUrl:"https://ghostnet.tzkt.io",providerUrl:"https://rpc.tzkt.io/ghostnet/"},{chainId:56,blockchain:o.BNB_SMART_CHAIN,network:s.BNB_SMART_CHAIN,name:"BNB Smart Chain",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone","react-native"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://bscscan.com",providerUrl:"https://bsc-dataseed.binance.org/"},{chainId:97,blockchain:o.BNB_SMART_CHAIN,network:s.BNB_SMART_CHAIN_TESTNET,name:"BNB Smart Chain Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone","react-native"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://testnet.bscscan.com",providerUrl:"https://data-seed-prebsc-1-s1.binance.org:8545/"},{chainId:8217,blockchain:o.KLAYTN,network:s.KLAYTN,name:"Klaytn",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://www.klaytnfinder.io",providerUrl:"https://public-node-api.klaytnapi.com/v1/cypress"},{chainId:1001,blockchain:o.KLAYTN,network:s.BAOBAB,name:"Baobab",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://baobab.klaytnfinder.io",providerUrl:"https://api.baobab.klaytn.net:8651/"},{chainId:0,blockchain:o.SOLANA,network:s.SOLANA,name:"Solana",isEthlike:!1,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!1,openWalletConnect:!1,explorerUrl:"https://explorer.solana.com",providerUrl:"https://api.mainnet-beta.solana.com"},{chainId:0,blockchain:o.SOLANA,network:s.SOLANA_DEVNET,name:"Solana Devnet",isEthlike:!1,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!1,openWalletConnect:!1,explorerUrl:(e,t)=>`https://explorer.solana.com/${t}/${e}?cluster=devnet`,providerUrl:"https://api.devnet.solana.com"},{chainId:0,blockchain:o.NEAR,network:s.NEAR,name:"Near",isEthlike:!1,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!1,openWalletConnect:!1,explorerUrl:(e,t)=>"tx"===t?`https://explorer.near.org/transactions/${e}`:`https://explorer.near.org/accounts/${e}`,providerUrl:"https://rpc.mainnet.near.org"},{chainId:0,blockchain:o.NEAR,network:s.NEAR_TESTNET,name:"Near Testnet",isEthlike:!1,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!1,openWalletConnect:!1,explorerUrl:(e,t)=>"tx"===t?`https://explorer.testnet.near.org/transactions/${e}`:`https://explorer.testnet.near.org/accounts/${e}`,providerUrl:"https://rpc.testnet.near.org"},{chainId:77001,blockchain:o.BORA,network:s.BORA,name:"BORA",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://scope.boraportal.com",providerUrl:"https://bora-mainnet.haechi.io"},{chainId:99001,blockchain:o.BORA,network:s.BORA_TESTNET,name:"BORA Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone","react-native"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://scope.boraportal.com",providerUrl:"https://bora-testnet.haechi.io"},{chainId:1,blockchain:o.APTOS,network:s.APTOS,name:"Aptos",isEthlike:!1,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!1,explorerUrl:(e,t)=>"tx"===t?`https://explorer.aptoslabs.com/txn/${e}`:`https://explorer.aptoslabs.com/address/${e}`,providerUrl:"https://fullnode.mainnet.aptoslabs.com/v1"},{chainId:2,blockchain:o.APTOS,network:s.APTOS_TESTNET,name:"Aptos Testnet",isEthlike:!1,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!1,explorerUrl:(e,t)=>"tx"===t?`https://explorer.aptoslabs.com/txn/${e}?network=testnet`:`https://explorer.aptoslabs.com/address/${e}?network=testnet`,providerUrl:"https://fullnode.testnet.aptoslabs.com/v1"},{chainId:7518,blockchain:o.MEVERSE,network:s.MEVERSE,name:"MEVerse",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://meversescan.io",providerUrl:"https://rpc.meversemainnet.io"},{chainId:4759,blockchain:o.MEVERSE,network:s.MEVERSE_TESTNET,name:"MEVerse Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://testnet.meversescan.io",providerUrl:"https://rpc.meversetestnet.io"},{chainId:91002,blockchain:o.PSM,network:s.PSM,name:"PSM",isEthlike:!0,isMainnet:!0,isSupported:[],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!1,explorerUrl:"https://explorer.nexon.io",providerUrl:null},{chainId:500,blockchain:o.PSM,network:s.PSM_TESTNET,name:"PSM Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://explorer.testnet.nexon.io",providerUrl:null},{chainId:400,blockchain:o.PSM_TEST,network:s.PSM_TESTNET_TEST,name:"PSM Testnet Test",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://test-explorer.testnet.nexon.io",providerUrl:null},{chainId:100,blockchain:o.PSM_DEV,network:s.PSM_TESTNET_DEV,name:"PSM Testnet Dev",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://dev-explorer.testnet.nexon.io",providerUrl:null},{chainId:19011,blockchain:o.HOME_VERSE,network:s.HOME_VERSE,name:"HOME Verse",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://explorer.oasys.homeverse.games",providerUrl:"https://rpc.mainnet.oasys.homeverse.games"},{chainId:40875,blockchain:o.HOME_VERSE,network:s.HOME_VERSE_TESTNET,name:"HOME Verse Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://explorer.testnet.oasys.homeverse.games",providerUrl:"https://rpc.testnet.oasys.homeverse.games"},{chainId:50005,blockchain:o.YOOLDO_VERSE,network:s.YOOLDO_VERSE,name:"Yooldo Verse",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://explorer.yooldo-verse.xyz",providerUrl:"https://rpc.yooldo-verse.xyz"},{chainId:50006,blockchain:o.YOOLDO_VERSE,network:s.YOOLDO_VERSE_TESTNET,name:"Yooldo Verse Testnet",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://explorer.testnet.yooldo-verse.xyz",providerUrl:"https://rpc.testnet.yooldo-verse.xyz"},{chainId:20197,blockchain:o.SAND_VERSE,network:s.SAND_VERSE,name:"Sand Verse",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://scan.sandverse.oasys.games",providerUrl:"https://rpc.sandverse.oasys.games"},{chainId:248,blockchain:o.OASYS,network:s.OASYS,name:"Oasys",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://scan.oasys.games",providerUrl:"https://rpc.mainnet.oasys.games"},{chainId:9372,blockchain:o.OASYS,network:s.OASYS_TESTNET,name:"Oasys Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://scan.testnet.oasys.games",providerUrl:"https://rpc.testnet.oasys.games"},{chainId:29548,blockchain:o.MCH_VERSE,network:s.MCH_VERSE,name:"MCH Verse",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://explorer.oasys.mycryptoheroes.net",providerUrl:"https://rpc.oasys.mycryptoheroes.net/"},{chainId:420,blockchain:o.MCH_VERSE,network:s.MCH_VERSE_TESTNET,name:"MCH Verse Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://explorer.oasys.sand.mchdfgh.xyz",providerUrl:"https://rpc.oasys.sand.mchdfgh.xyz/"},{chainId:295,blockchain:o.HEDERA,network:s.HEDERA,name:"Hedera",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://hashscan.io/mainnet",providerUrl:"https://mainnet.hashio.io/api"},{chainId:296,blockchain:o.HEDERA,network:s.HEDERA_TESTNET,name:"Hedera Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://hashscan.io/testnet",providerUrl:"https://testnet.hashio.io/api"},{chainId:16116,blockchain:o.DEFI_VERSE,network:s.DEFI_VERSE,name:"DeFi Verse",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://scan.defiverse.net",providerUrl:"https://rpc.defi-verse.org/"},{chainId:17117,blockchain:o.DEFI_VERSE,network:s.DEFI_VERSE_TESTNET,name:"DeFi Verse Testnet",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://scan-testnet.defiverse.net",providerUrl:"https://rpc-testnet.defi-verse.org"},{chainId:255,blockchain:o.KROMA,network:s.KROMA,name:"Kroma",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://kromascan.com",providerUrl:null},{chainId:2358,blockchain:o.KROMA,network:s.KROMA_SEPOLIA,name:"Kroma Sepolia",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://sepolia.kromascan.com",providerUrl:null},{chainId:807424,blockchain:o.ASM_QA,network:s.ASM_QA,name:"ASM QA",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://subnets-test.avax.network/jono14",providerUrl:null},{chainId:595581,blockchain:o.ASM_TEST,network:s.ASM_TEST,name:"ASM Test",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://subnets-test.avax.network/jono13",providerUrl:null},{chainId:955081,blockchain:o.ASM_DEV,network:s.ASM_DEV,name:"ASM Dev",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://subnets-test.avax.network/jono12",providerUrl:null},{chainId:847799,blockchain:o.ASM_STAGE,network:s.ASM_STAGE,name:"ASM Stage",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!0,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://subnets-test.avax.network/jonostage",providerUrl:null},{chainId:59144,blockchain:o.LINEA,network:s.LINEA,name:"Linea",isEthlike:!0,isMainnet:!0,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://lineascan.build",providerUrl:"https://rpc.linea.build"},{chainId:59140,blockchain:o.LINEA,network:s.LINEA_GOERLI,name:"Linea Goerli",isEthlike:!0,isMainnet:!1,isSupported:["in-app","standalone"],isSupportedNft:!1,isSupportedHome:!0,openWalletConnect:!0,explorerUrl:"https://goerli.lineascan.build",providerUrl:"https://rpc.goerli.linea.build"}];A.reduce(((e,t)=>(t.isMainnet&&e.push(t.network),e)),[]),A.reduce(((e,t)=>(t.isMainnet||e.push(t.network),e)),[]);const M=Object.entries(b).reduce(((e,t)=>{const[n,i]=t;return i.isEthlike&&e.push(n),e}),[]),C=(e,t)=>A.reduce(((e,n)=>(t.some((e=>n.isSupported.includes(e)))&&e.push(n.network),e)),[]).includes(e),T=e=>{if(!e)throw new Error(`networkToBlockchain() network: ${e}`);const t=null==e?void 0:e.toLowerCase(),n=A.find((e=>e.network===t));if(!n)throw new Error(`Unsupported network: ${t}`);return n.blockchain},_=e=>M.includes(T(e)),N=e=>{var t;const n=null===(t=A.find((t=>t.network===e)))||void 0===t?void 0:t.chainId;if(!n)throw new Error("Unsupported network "+e);return n},O=e=>{var t;const n=null===(t=A.find((t=>t.chainId===e)))||void 0===t?void 0:t.network;if(!n)throw new Error("Unsupported network "+n);return n},R="http://localhost:3333",U="https://app.dev.facewallet.xyz",I="https://app.stage-test.facewallet.xyz",x="https://app.stage.facewallet.xyz",H="https://app.test.facewallet.xyz",L="https://app.facewallet.xyz";function P(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((function(){throw e}))}}new Set([s.PSM,s.PSM_TESTNET,s.PSM_TESTNET_DEV,s.PSM_TESTNET_TEST]),new Set([s.ASM_QA,s.ASM_TEST,s.ASM_DEV,s.ASM_STAGE]);var B=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o=void 0;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error.".concat(o?" (".concat(o.message,")"):""));throw s.context=o,s}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)P(a,this,t);else for(var c=a.length,p=function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i+=1)n[i]=e[i];return n}(a),l=0;l<c;l+=1)P(p[l],this,t);return!0},n}(E)),V=function(){function e(e){this.internal=e}return e.prototype.emitLoginEventsOnlyEthlike=function(){if(_(this.internal.getNetwork())){var e=v.toBeHex(N(this.internal.getNetwork()));B.emit("connect",{chainId:e})}},e.prototype.emitLogoutEventsOnlyEthlike=function(){if(_(this.internal.getNetwork())){B.emit("disconnect",{name:"disconnect",code:4900,message:"facewallet logout"})}},e.prototype.login=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(e,Array.isArray(e)&&e.length>0&&i([],e,!0).every((function(e){return Object.values(c).includes(e)})),"providers",!1),[4,this.internal.loginWithCredential(e)];case 1:return t=n.sent(),this.emitLoginEventsOnlyEthlike(),[2,t]}}))}))},e.prototype.directSocialLogin=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(e,"string"==typeof e,"provider"),[4,this.internal.directSocialLogin(e)];case 1:return t=n.sent(),this.emitLoginEventsOnlyEthlike(),[2,t]}}))}))},e.prototype.getIdToken=function(e,i){return t(this,void 0,void 0,(function(){return n(this,(function(t){return a(e,"string"==typeof e,"provider"),a(i,"string"==typeof i,"accessToken"),[2,this.internal.getIdToken(e,i)]}))}))},e.prototype.loginWithIdToken=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(e,e.idToken&&e.sig,"loginWithIdTokenRequest"),[4,this.internal.loginWithIdToken(e)];case 1:return t=n.sent(),this.emitLoginEventsOnlyEthlike(),[2,t]}}))}))},e.prototype.loginWithAccessToken=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(e,e.accessToken&&e.sig,"loginWithIdTokenRequest"),[4,this.internal.loginWithAccessToken(e)];case 1:return t=n.sent(),this.emitLoginEventsOnlyEthlike(),[2,t]}}))}))},e.prototype.boraLogin=function(e,r){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(r,Array.isArray(r)&&r.length>0&&i([],r,!0).every((function(e){return Object.values(c).includes(e)})),"providers",!1),[4,this.internal.boraLogin(e,r)];case 1:return t=n.sent(),this.emitLoginEventsOnlyEthlike(),[2,t]}}))}))},e.prototype.boraDirectSocialLogin=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(i,"string"==typeof i,"provider"),[4,this.internal.boraDirectSocialLogin(e,i)];case 1:return t=n.sent(),this.emitLoginEventsOnlyEthlike(),[2,t]}}))}))},e.prototype.boraLoginWithIdToken=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(i,i.idToken&&i.sig,"loginWithIdTokenRequest"),[4,this.internal.boraLoginWithIdToken(e,i)];case 1:return t=n.sent(),this.emitLoginEventsOnlyEthlike(),[2,t]}}))}))},e.prototype.logout=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.logout()];case 1:return e.sent(),this.emitLogoutEventsOnlyEthlike(),[2]}}))}))},e.prototype.getCurrentUser=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.getCurrentUser()];case 1:return[2,e.sent()]}}))}))},e.prototype.isLoggedIn=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.isLoggedIn()];case 1:return[2,e.sent()]}}))}))},e.prototype.getUserVerificationToken=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.getUserVerificationToken()];case 1:return[2,e.sent()]}}))}))},e}(),W=function(){function e(e){this.internal=e}return e.prototype.getPublicKeys=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){throw new Error("Not implemented yet")}))}))},e.prototype.getAddresses=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.getAddresses(o.APTOS)];case 1:return[2,e.sent()]}}))}))},e.prototype.signMultiAgentTransaction=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.internal.sendRpc({method:p.aptos_signMultiAgentTransaction,params:[e.raw_txn.sender.address,w.bcsToBytes(e)]})];case 1:return[2,t.sent()]}}))}))},e.prototype.signMessage=function(e){return t(this,void 0,void 0,(function(){var t,i;return n(this,(function(n){switch(n.label){case 0:return t=Buffer.from(JSON.stringify(e)),[4,this.internal.sendRpc({method:p.aptos_signMessage,params:[t]})];case 1:return i=n.sent(),[2,JSON.parse(i)]}}))}))},e.prototype.signAndSubmitTransaction=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.internal.getAddresses(o.APTOS)];case 1:return t=n.sent()[0],[4,this.internal.sendRpc({method:p.aptos_signAndSubmitTransaction,params:[Buffer.from(t),Buffer.from(JSON.stringify(e)),i]})];case 2:return[2,{hash:n.sent()}]}}))}))},e.prototype.signTransaction=function(e,i){return t(this,void 0,void 0,(function(){var t,r;return n(this,(function(n){switch(n.label){case 0:return[4,this.internal.getAddresses(o.APTOS)];case 1:return t=n.sent()[0],[4,this.internal.sendRpc({method:p.aptos_signTransaction,params:[Buffer.from(t),Buffer.from(JSON.stringify(e)),i]})];case 2:return r=n.sent(),[2,JSON.parse(r)]}}))}))},e}(),D=function(){function e(e){this.internal=e}return e.prototype.getProvider=function(){return new W(this.internal)},e}(),F=function(){function e(e){this.internal=e}return e.prototype.connect=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return a(e,e.bappUsn&&e.signature,"request"),[4,this.internal.boraConnect(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.isConnected=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return a(e,"string"==typeof e,"bappUsn"),[4,this.internal.boraIsConnected(e)];case 1:return[2,t.sent()]}}))}))},e}(),z=function(){function e(e){this.internal=e}return e.prototype.getPairString=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.hederaGetHashConnectPairString()];case 1:return[2,e.sent()]}}))}))},e.prototype.init=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.initHashConnect()];case 1:return[2,e.sent()]}}))}))},e.prototype.pair=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.internal.pairHashConnect(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.disconnect=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.internal.disconnectHashConnect(e)];case 1:return[2,t.sent()]}}))}))},e}(),K=function(){function e(e){this.internal=e,this.hashConnect=new z(e)}return e.prototype.getHashConnect=function(){return this.hashConnect},e.prototype.hederaAssociate=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return a(e,"string"==typeof e,"tokenId"),[4,this.internal.hederaAssociate(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getAccountId=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.getHederaAccountId()];case 1:return[2,e.sent()]}}))}))},e}(),Y=function(){function e(e){this.internal=e}return e.prototype.getPublicKeys=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.getAddresses(o.NEAR)];case 1:return[2,e.sent().map((function(e){return g.PublicKey.fromString(g.serialize.base_encode(Buffer.from(e,"hex")))}))]}}))}))},e.prototype.getBalance=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return a(e,"string"==typeof e,"address"),a(i,"string"==typeof i,"contractAddress",!1),[4,this.internal.sendRpc({method:p.near_get_balance,params:[e,i]})];case 1:return t=n.sent(),[2,S.from(t)]}}))}))},e.prototype.signAndSendTransaction=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t={serializedHex:Buffer.from(g.serialize.serialize(g.transactions.SCHEMA,e)).toString("hex")},[4,this.internal.sendRpc({method:p.near_broadcast_tx_async,params:[t]})];case 1:return[2,n.sent()]}}))}))},e}(),G=function(){function e(e){this.internal=e}return e.prototype.getProvider=function(){return new Y(this.internal)},e}(),j=function(){function e(e){this.internal=e}return e.prototype.getPublicKeys=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.getAddresses(o.SOLANA)];case 1:return[2,e.sent().map((function(e){return new k(v.decodeBase58(e))}))]}}))}))},e.prototype.signAndSendTransaction=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t={serializedHex:e.serialize({requireAllSignatures:!1,verifySignatures:!1}).toString("hex")},[4,this.internal.sendRpc({method:p.solana_sendTransaction,params:[t]})];case 1:return[2,n.sent()]}}))}))},e}(),$=function(){function e(e){this.internal=e}return e.prototype.getProvider=function(){return new j(this.internal)},e}(),q=function(e,t,n){this.methods=new Z(e,t,n)},Z=function(){function e(e,t,n){this.internal=e,this.wallet=t,this.contractAddress=n}return e.prototype.transfer=function(e){return t(this,void 0,void 0,(function(){var t,i;return n(this,(function(n){switch(n.label){case 0:return[4,this.wallet.getPublicKeys()];case 1:return t=n.sent()[0],[4,this.wallet.getAddresses()];case 2:return i=n.sent()[0],[4,this.internal.sendRpc({method:p.tezos_transferFA2,params:[t,i,this.contractAddress,e]})];case 3:return[2,n.sent()]}}))}))},e}(),J=function(){function e(e){this.internal=e}return e.prototype.getAddresses=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.getAddresses(o.TEZOS)];case 1:return[2,e.sent()]}}))}))},e.prototype.getPublicKeys=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.internal.sendRpc({method:p.tezos_publicKey})];case 1:return[2,e.sent()]}}))}))},e.prototype.transferCoin=function(e){return t(this,void 0,void 0,(function(){var t,i;return n(this,(function(n){switch(n.label){case 0:return[4,this.getPublicKeys()];case 1:return t=n.sent()[0],[4,this.getAddresses()];case 2:return i=n.sent()[0],[4,this.internal.sendRpc({method:p.tezos_transferCoin,params:[t,i,e]})];case 3:return[2,n.sent()]}}))}))},e}(),Q=function(e){this.internal=e,this.wallet=new J(e),this.contract=new X(e)},X=function(){function e(e){this.internal=e}return e.prototype.at=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,new q(this.internal,new J(this.internal),e)]}))}))},e}();class ee extends Event{constructor(e){super("face-toast"),this.detail=e}}var te={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647"};var ne=function(){var e=this;this._isCompleted=!1,this._eventListeners=Array(),this.complete=function(){e._isCompleted=!0,e._eventListeners.forEach((function(e){return e()}))},this.add=function(t){e._eventListeners.push(t)},this.isCompleted=function(){return e._isCompleted}},ie=function(){function e(e,i,r,o,s){void 0===s&&(s={type:"toast"});var a,c=this;this._ready=new ne,this.requestIndex=0,this.activeElement=null,this._network=i,this._blockchain=T(i),this._env=r,this.iframeUrl=o;var p=Math.random().toString();if(this.randomPrefix=p.substring(p.length-6),document.getElementById("face-iframe"))throw new Error("Face is already initialized, Face can be initialized once.");window.addEventListener("message",(function(e){return t(c,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return e.origin!==o?[2]:[4,this.processMessage(e.data)];case 1:return t.sent(),[2]}}))}))}));var l=null!==(a="1.14.3")?a:"";this._iframe=new Promise((function(t){var n=function(){if(!document.getElementById("face-iframe")){var n=document.createElement("iframe");n.id="face-iframe",n.title="Secure Modal",n.src=new URL("".concat(o,"?api_key=").concat(e,"&network=").concat(i,"&blockchain=").concat(c._blockchain,"&env=").concat(r,"&version=").concat(l,"&type=").concat("web","&notification=").concat(null==s?void 0:s.type)).href,n.allow="clipboard-read; clipboard-write",function(e){for(var t=0,n=Object.entries(te);t<n.length;t++){var i=n[t],r=i[0],o=i[1];e.style[r]=o}}(n),document.body.appendChild(n),t(n)}};["loaded","interactive","complete"].includes(document.readyState)?n():window.addEventListener("load",n,!1)}))}return e.prototype.sendChildMessage=function(e){var i,r;return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.ready()];case 1:return n.sent(),this.requestIndex+=1,t=e.id?"".concat(e.id):"".concat(this.randomPrefix,"-").concat(this.requestIndex),e.id=t,e.from=l.FACE_SDK,[4,this._iframe];case 2:return null===(r=null===(i=n.sent())||void 0===i?void 0:i.contentWindow)||void 0===r||r.postMessage(e,"*"),[2,t]}}))}))},e.prototype.waitForResponse=function(e){return new Promise((function(t,n){var i=function(r){var o=r.data;e&&o.id!==e||(window.removeEventListener("message",i),o.error?n(o.error):t(o.result))};window.addEventListener("message",i)}))},e.prototype.processMessage=function(e){var i,r,o,s;return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:switch(e.method){case p.face_ready:return[3,1];case p.face_openIframe:return[3,2];case p.face_closeIframe:return[3,4];case p.face_showToast:return[3,6]}return[3,7];case 1:return this._ready.complete(),[3,7];case 2:return[4,this.showOverlay()];case 3:case 5:return n.sent(),[3,7];case 4:return[4,this.hideOverlay()];case 6:return t=new ee({title:null===(i=null==e?void 0:e.result)||void 0===i?void 0:i.title,description:null===(r=null==e?void 0:e.result)||void 0===r?void 0:r.description,type:null===(o=null==e?void 0:e.result)||void 0===o?void 0:o.type,iconType:null===(s=null==e?void 0:e.result)||void 0===s?void 0:s.iconType}),window.dispatchEvent(t),[3,7];case 7:return[2]}}))}))},e.prototype.ready=function(){return t(this,void 0,void 0,(function(){var e=this;return n(this,(function(i){return[2,new Promise((function(i){return t(e,void 0,void 0,(function(){return n(this,(function(e){return this._ready.isCompleted()?(i(),[2]):(this._ready.add((function(){i()})),[2])}))}))}))]}))}))},e.prototype.showOverlay=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,this.ready()];case 1:return t.sent(),[4,this._iframe];case 2:return(e=t.sent()).style.display="block",this.activeElement=document.activeElement,e.focus(),[2]}}))}))},e.prototype.hideOverlay=function(){var e;return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.ready()];case 1:return t.sent(),[4,this._iframe];case 2:return t.sent().style.display="none",(null===(e=this.activeElement)||void 0===e?void 0:e.focus)&&this.activeElement.focus(),this.activeElement=null,[2]}}))}))},e.prototype.setNetwork=function(e){this._network=e},e.prototype.setBlockchain=function(e){this._blockchain=e},e.prototype.throwExceptionUnsupportedBlockchain=function(e){if(e.includes(this._blockchain))throw u()},e.prototype.allowBlockchain=function(e){if(!e.includes(this._blockchain))throw u()},e.prototype.getBlockchain=function(){return this._blockchain},e}();function re(e){if("string"==typeof e&&/^0x[0-9A-Fa-f]*$/.test(e)){var t=parseInt(e,16);try{return O(t)}catch(e){throw new h({message:"Invalid chainId: ".concat(t),code:d.UNSUPPORTED_CHAIN})}}if("number"==typeof e)try{return O(e)}catch(t){throw new h({message:"Invalid chainId: ".concat(e),code:d.UNSUPPORTED_CHAIN})}if(Object.values(s).includes(e))return e;throw new h({message:"Invalid network parameter: ".concat(e),code:d.UNSUPPORTED_CHAIN})}S.from(1e5).toHexString();var oe=function(){function e(e){var t=e.apiKey,n=e.network,i=e.env,r=e.iframeUrl,o=e.face,a=e.notificationOptions;this.network=n||s.ETHEREUM,this.env=null!=i?i:f.ProdMainnet,this.iframe=new ie(t,this.network,this.env,function(e,t){if(null!=t)return t;switch(e){case f.Local:return R;case f.Dev:return U;case f.StageTest:return I;case f.ProdTest:return H;case f.StageMainnet:return x;case f.ProdMainnet:default:return L}}(this.env,r),a),this.face=o,this.iframeUrl=r,"toast"===(null==a?void 0:a.type)&&import("./index-04bb28b8.js")}return e.prototype.getAddresses=function(e){return t(this,void 0,void 0,(function(){var t,i;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_accounts,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return(i=n.sent())?[2,i]:[2,Promise.reject(new Error("get address failed"))]}}))}))},e.prototype.estimateGas=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,0]}))}))},e.prototype.getBalance=function(e,i){return t(this,void 0,void 0,(function(){var t,r,o,s;return n(this,(function(n){switch(n.label){case 0:return i?[4,this.encodeData(["function balanceOf(address owner) view returns (uint256)"],"balanceOf",[e])]:[3,3];case 1:return t=n.sent(),[4,this.sendRpc({method:p.eth_call,params:[{to:i,data:t},"latest"]})];case 2:return r=n.sent(),[2,S.from(r)];case 3:return s=(o=S).from,[4,this.sendRpc({method:p.eth_getBalance,params:[e,"latest"]})];case 4:return[2,s.apply(o,[n.sent()])]}}))}))},e.prototype.ownerOf=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.encodeData(["function ownerOf(uint256 tokenId) view returns (address)"],"ownerOf",[i])];case 1:return t=n.sent(),[4,this.sendRpc({method:p.eth_call,params:[{to:e,data:t},"latest"]})];case 2:return[2,("0x"+n.sent().substring(26)).toLowerCase()]}}))}))},e.prototype.logout=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_logOut})];case 1:return e=t.sent(),[4,this.iframe.waitForResponse(e)];case 2:return t.sent(),[2]}}))}))},e.prototype.getCurrentUser=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_currentUser})];case 1:return e=t.sent(),[4,this.iframe.waitForResponse(e)];case 2:return[2,t.sent()]}}))}))},e.prototype.isLoggedIn=function(){return t(this,void 0,void 0,(function(){var e,t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_loggedIn})];case 1:return e=n.sent(),[4,this.iframe.waitForResponse(e)];case 2:return(t=n.sent())?[2,t]:[2,!1]}}))}))},e.prototype.ready=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.iframe.ready()]}))}))},e.prototype.loginWithCredential=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_logInSignUp,params:e})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.directSocialLogin=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_directSocialLogin,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.boraLogin=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_logInSignUp,params:[e,i]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.boraDirectSocialLogin=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_directSocialLogin,params:[i,e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.boraLoginWithIdToken=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_loginWithIdToken,params:[i,e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.getIdToken=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_getIdToken,params:[e,i]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.loginWithIdToken=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_loginWithIdToken,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.loginWithAccessToken=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_loginWithAccessToken,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.openWalletConnect=function(e,i){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return this.iframe.throwExceptionUnsupportedBlockchain([o.APTOS,o.NEAR,o.SOLANA,o.PSM,o.TEZOS]),[4,this.iframe.sendChildMessage({method:p.face_openWalletConnect,params:[e,i]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.openHome=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return this.iframe.throwExceptionUnsupportedBlockchain([o.SOLANA,o.NEAR]),[4,this.iframe.sendChildMessage({method:p.face_openHome,params:[e]})];case 1:return t=n.sent(),[2,this.iframe.waitForResponse(t)]}}))}))},e.prototype.openBuy=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_openBuy,params:[e]})];case 1:return t=n.sent(),[2,this.iframe.waitForResponse(t)]}}))}))},e.prototype.sendRpc=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage(e)];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.decodeData=function(e,i){return t(this,void 0,void 0,(function(){var t,r,o,s;return n(this,(function(n){return t=new v.Interface(i),r=t.parseTransaction({data:e}),o=r.name,s=r.args,[2,{name:o,args:s}]}))}))},e.prototype.encodeData=function(e,i,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,new v.Interface(e).encodeFunctionData(i,r)]}))}))},e.prototype.switchNetwork=function(e){return t(this,void 0,void 0,(function(){var t,i,r,s,c,l,u;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=re(e),a(e,C(t,["in-app"]),"network"),i=function(e){return e?T(e):o.ETHEREUM}(t),r={method:p.face_switchNetwork,params:[{network:t}]},this.network=t,this.iframe.setNetwork(t),this.iframe.setBlockchain(i),[4,this.sendRpc(r)];case 1:return s=n.sent(),_(this.network)&&(c=function(e){return _(e)?v.toBeHex(N(e)):0}(t),B.emit("chainChanged",c)),[2,s];case 2:throw l=n.sent(),_(this.network)&&(u={name:l.name,message:l.message,code:4901},B.emit("disconnect",u)),l;case 3:return[2]}}))}))},e.prototype.boraIsConnected=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return this.iframe.allowBlockchain([o.BORA]),[4,this.iframe.sendChildMessage({method:p.bora_isConnected,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.boraConnect=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return this.iframe.allowBlockchain([o.BORA]),[4,this.iframe.sendChildMessage({method:p.bora_connect,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.getUserVerificationToken=function(){return t(this,void 0,void 0,(function(){var e,t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.face_getUserVerificationToken,params:[]})];case 1:return e=n.sent(),[4,this.iframe.waitForResponse(e)];case 2:return(t=n.sent())?[2,t]:[2,Promise.reject(new Error("get user verification token failed"))]}}))}))},e.prototype.getNetwork=function(){return this.network},e.prototype.hederaAssociate=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return this.iframe.allowBlockchain([o.HEDERA]),[4,this.iframe.sendChildMessage({method:p.hedera_associate,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.hederaGetHashConnectPairString=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,this.iframe.sendChildMessage({method:p.hedera_getHashConnectPairString,params:[]})];case 1:return e=t.sent(),[4,this.iframe.waitForResponse(e)];case 2:return[2,t.sent()]}}))}))},e.prototype.pairHashConnect=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.hedera_pairHashConnect,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e.prototype.getHederaAccountId=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,this.iframe.sendChildMessage({method:p.hedera_getAccountId})];case 1:return e=t.sent(),[4,this.iframe.waitForResponse(e)];case 2:return[2,t.sent()]}}))}))},e.prototype.initHashConnect=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,this.iframe.sendChildMessage({method:p.hedera_initHashConnect})];case 1:return e=t.sent(),[4,this.iframe.waitForResponse(e)];case 2:return[2,t.sent()]}}))}))},e.prototype.disconnectHashConnect=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return[4,this.iframe.sendChildMessage({method:p.hedera_disconnectHashConnect,params:[e]})];case 1:return t=n.sent(),[4,this.iframe.waitForResponse(t)];case 2:return[2,n.sent()]}}))}))},e}(),se=function(r){function o(e){var t=r.call(this)||this;return t.internal=e,t}return e(o,r),o.prototype.request=function(e){return t(this,void 0,void 0,(function(){var t=this;return n(this,(function(n){if(Array.isArray(e))return[2,Promise.all(e.map((function(e){return t.internal.sendRpc(e)})))];switch(e.method){case p.wallet_switchEthereumChain:return[2,this.internal.switchNetwork(e.params[0].chainId)];case p.eth_estimateGas:return[2,this.internal.estimateGas(e)];case"personal_listAccounts":case"eth_accounts":return[2,this.internal.getAddresses()];default:return[2,this.internal.sendRpc(e)]}return[2]}))}))},o.prototype.on=function(e,t){return B.on(e,t),this},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return B.emit.apply(B,i([e],t,!1))},o.prototype.removeListener=function(e,t){return B.removeListener(e,t),this},o.prototype.off=function(e,t){return B.off(e,t),this},o}((function(){this.sendAsync=function(e,t){}})),ae=function(){function e(e){this.internal=e}return e.prototype.close=function(){this.internal.iframe.hideOverlay()},e.prototype.home=function(e){var i;return t(this,void 0,void 0,(function(){return n(this,(function(t){return a(null==e?void 0:e.networks,null===(i=null==e?void 0:e.networks)||void 0===i?void 0:i.length,"options.networks",!1),[2,this.internal.openHome(e)]}))}))},e.prototype.onRamp=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){return a(e,e.length>0&&e.every((function(e){return o[e]})),"blockchains"),[2,this.internal.openBuy({blockchains:e})]}))}))},e.prototype.onRampToken=function(e,i,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return a(e,o[e],"blockchain"),a(i,i,"contractAddress"),a(r,r&&r>0,"coinAmount",!1),[2,this.internal.openBuy({blockchains:[e],contractAddress:i,coinAmount:r})]}))}))},e}(),ce=function(){function e(e){this.internal=e}return e.prototype.connectOpensea=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return a(e,"string"==typeof e,"collectionName",!1),[4,this.connect("OpenSea",e?"https://opensea.io/collection/"+e:"https://opensea.io")];case 1:return t.sent(),[2]}}))}))},e.prototype.connect=function(e,i){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return a(e,"string"==typeof e,"name"),a(i,"string"==typeof i,"url"),[4,this.internal.openWalletConnect(e,i)];case 1:return t.sent(),[2]}}))}))},e}(),pe=function(){function e(e){var i=this,s=e.apiKey,c=e.network,l=e.notificationOptions,h=r(e,["apiKey","network","notificationOptions"]);this.getAddresses=function(e){return t(i,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return a(e,e&&o[e],"blockchain",!1),[4,this.internal.getAddresses(e)];case 1:return[2,t.sent()]}}))}))},this.getNetwork=function(){return i.internal.getNetwork()},this.getChainId=function(){return t(i,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return e=Number,[4,this.internal.sendRpc({method:p.eth_chainId,params:[]})];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},a(s,"string"==typeof s,"apiKey"),a(c,!0,"network");var d=re(c);m(C(d,["in-app"]),u),this.internal=new oe({apiKey:s,network:d,env:null==h?void 0:h.env,iframeUrl:null==h?void 0:h.iframeUrl,notificationOptions:l,face:this}),this.auth=new V(this.internal),this.wc=new ce(this.internal),this.solana=new $(this.internal),this.near=new G(this.internal),this.wallet=new ae(this.internal),this.bora=new F(this.internal),this.aptos=new D(this.internal),this.hedera=new K(this.internal),this.tezos=new Q(this.internal)}return e.prototype.ready=function(){return t(this,void 0,void 0,(function(){return n(this,(function(e){return[2,this.internal.ready()]}))}))},e.prototype.getEthLikeProvider=function(){var e;return m((e=T(this.internal.getNetwork()),M.includes(e)),u),new se(this.internal)},e.prototype.switchNetwork=function(e){return t(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.internal.switchNetwork(e)];case 1:return[2,t.sent()]}}))}))},e}();export{pe as Face};
//# sourceMappingURL=index.js.map
